{% comment %}
This liquid template was auto-generated by the "GDPR Cookie Bar +ePrivacy Page" app:
https://apps.shopify.com/gdpr-cookie-consent
This template is required for the application to function properly.
------------------------------------------------------------------------------------------------------------
| PLEASE DO NOT MODIFY OR DELETE THIS TEMPLATE FOR AS LONG AS THIS APPLICATION IS INSTALLED IN YOUR STORE. |
------------------------------------------------------------------------------------------------------------
{% endcomment %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/yui/3.18.0/cssreset-context/cssreset-context-min.css" type="text/css"/>
<style>

  p.pd-guest-warning {font-weight:600;} /* new */
  .pd-section {margin-bottom: 20px} /* new */
  .pd-section h3.pd-section-title {margin-bottom: 0;} /* new */
  .pd-section p.pd-section-title {font-weight:bold; margin-bottom: 5px;} /* new */
  .pd-section p.pd-section-paragraph {margin-bottom: 5px;} /* new */
  .pd-confirmation-prompt-message {margin-right:10px;} /* new */

  .pd-request-form-container {margin-top:10px;} /* new */
  .pd-section .pd-input-field { width: 100%; margin-bottom:5px;}/* new */
  .pd-section .pd-horizontal-menu {margin-bottom: 4px;}/* new */
  .pd-section .pd-horizontal-menu ul {list-style:none!important; margin: 0; display:flex; padding:0;}/* new */
  .pd-section .pd-horizontal-menu ul li {margin-right:15px;} /* new */
  .pd-section .pd-horizontal-menu ul li:first-child {margin:0;} /* new */
  .pd-section .pd-horizontal-menu ul li a.pd-action-link {display: block;}
  .pd-section .pd-horizontal-menu ul li a.pd-action-link.disabled {pointer-events:none;cursor: default; color: #bbb}

  a.pd-link {font-size: 0.9rem}

  div.pd-empty-table {} /* new */
  div.pd-rectify-data, div#pd-rectify-data-container {
    margin-top: 4px;
  }

  div#pd-access-contents {margin-top: 4px}
  div.yui3-cssreset p { padding: 2px;}
  div.yui3-cssreset .label {font-weight: 600}
  div.yui3-cssreset table {margin-top:10px; display:block; overflow-x:auto; overflow-y: auto; white-space: nowrap; margin-bottom:0; max-height: 400px } /* new */
  div.yui3-cssreset table th {font-weight:600; padding:0 2px;} /* new */
  div.yui3-cssreset table td {padding: 0 2px; min-width: 60px}
  div.yui3-cssreset table .caption {text-align: left; font-weight: 600; padding: 2px;}



  .pd-section .pd-loader {
    position: fixed;
    z-index: 999;
    overflow: show;
    margin: auto;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    width: 50px;
    height: 50px;
  }

  /* Transparent Overlay */
  .pd-section .pd-loader:before {
    content: '';
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  /* :not(:required) hides these rules from IE9 and below */
  .pd-section .pd-loader:not(:required) {
    /* hide "loading..." text */
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
  }

  .pd-section .pd-loader:not(:required):after {
    content: '';
    display: block;
    font-size: 6px;
    width: 50px;
    height: 50px;
    margin-top: -10em;
    border: 3px solid #47c1bf;
    border-radius: 100%;
    border-bottom-color: transparent;
    -webkit-animation: spinner 1s linear 0s infinite;
    animation: spinner 1s linear 0s infinite;
  }

  /* Animation */

  @-webkit-keyframes spinner {
    0% {
      -webkit-transform: rotate(0deg);
      -moz-transform: rotate(0deg);
      -ms-transform: rotate(0deg);
      -o-transform: rotate(0deg);
      transform: rotate(0deg);
    }
    100% {
      -webkit-transform: rotate(360deg);
      -moz-transform: rotate(360deg);
      -ms-transform: rotate(360deg);
      -o-transform: rotate(360deg);
      transform: rotate(360deg);
    }
  }
  @-moz-keyframes spinner {
    0% {
      -webkit-transform: rotate(0deg);
      -moz-transform: rotate(0deg);
      -ms-transform: rotate(0deg);
      -o-transform: rotate(0deg);
      transform: rotate(0deg);
    }
    100% {
      -webkit-transform: rotate(360deg);
      -moz-transform: rotate(360deg);
      -ms-transform: rotate(360deg);
      -o-transform: rotate(360deg);
      transform: rotate(360deg);
    }
  }
  @-o-keyframes spinner {
    0% {
      -webkit-transform: rotate(0deg);
      -moz-transform: rotate(0deg);
      -ms-transform: rotate(0deg);
      -o-transform: rotate(0deg);
      transform: rotate(0deg);
    }
    100% {
      -webkit-transform: rotate(360deg);
      -moz-transform: rotate(360deg);
      -ms-transform: rotate(360deg);
      -o-transform: rotate(360deg);
      transform: rotate(360deg);
    }
  }
  @keyframes spinner {
    0% {
      -webkit-transform: rotate(0deg);
      -moz-transform: rotate(0deg);
      -ms-transform: rotate(0deg);
      -o-transform: rotate(0deg);
      transform: rotate(0deg);
    }
    100% {
      -webkit-transform: rotate(360deg);
      -moz-transform: rotate(360deg);
      -ms-transform: rotate(360deg);
      -o-transform: rotate(360deg);
      transform: rotate(360deg);
    }
  }
</style>
{% unless page.metafields.specialist.address != blank %}
<div class="page-content page-full-width">
  <h1 class="page-title">{{ page.title }}</h1>
  <div class="rte">
    {{ page.content }}
  </div>
</div>

<script type="text/javascript">
  $("body").addClass('full-width-template');
</script>

{% else %}
{{ 'specialist-css.css' | asset_url | stylesheet_tag }}

<meta name="description" content="{{ page.title | escape }} in address {{ page.metafields.specialist.address }} " />

<div class="main_container">
  <div class="left_content">
   
    <h1 class="main_title">{{page.title}}</h1>
    
    {% if page.metafields.specialist.description != blank %}
    <div class="sub_title">
      {{page.metafields.specialist.description}}
    </div>
    {% endif %}
    
    <div class="left_main_content left_main_content_cls">
      <div class="left_content_title">ADDRESS</div>
	{% if page.metafields.specialist.address != blank %}
      <div class="left_content_address">
        <div class="left_content_sub_add">
        {{ page.metafields.specialist.address }}
        </div>
      </div>
       {% endif %}

      <div class="left-buttons">
        <button class="button_left">
          <a target="_blank" href="https://maps.google.com/maps?q={{page.metafields.specialist.lat}},{{page.metafields.specialist.lang}}">Get Directions</a>
        </button>
      </div>
      
<!--<div class="mapspecilist">
<iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?q={{ page.metafields.specialist.address }}&amp;output=embed"></iframe>
</div>-->
 {% if page.metafields.specialist.lat != blank %}    
  <div class="mapspecilist">
<!--     <iframe width="100%" height="600" frameborder="0" scrolling="no" src="https://maps.google.com/maps?q={{page.metafields.specialist.lat}},{{page.metafields.specialist.lang}}&z=14&amp;output=embed">
   </iframe> -->
    <div id="map"></div>
    
  </div> 
  {% endif %}
  </div>
    
    
{% if page.metafields.specialist.phonenumber != blank %}
	<div class="left_main_content">
      <div class="left_content_title">CONTACT</div>
      
     {% if page.metafields.specialist.phonenumber != blank %}
      <div class="left_content_address">
        <div class="left-phone">
         {{ page.metafields.specialist.phonenumber }}
		</div>
      </div>
     {% endif %}
      
      <div class="left-buttons">
        <button class="button_left"><a href="tel:{{ page.metafields.specialist.phonenumber }}">Call</a></button>
      </div>
    </div>
    {% endif %}
    
    
    {% if page.metafields.specialist.website != blank %}
    <div class="left_main_content last_left">
      <div class="left_content_title">WEBSITE</div>
       
      {% if page.metafields.specialist.website != blank %}
      {% assign tt = page.metafields.specialist.website%}
     
    {% unless tt contains 'http://' or tt contains 'https://' %}
    {% assign tt = tt | prepend : 'https://' %}
    {% endunless %}
      
      <div class="left_content_address">
         <div class="left-website">
           <a target="_blank" href="{{tt}}">{{ page.metafields.specialist.website }}</a>
        </div>
       </div>
     
    {% endif %}
	{% if page.metafields.specialist.website != blank %}
    {% assign tt = page.metafields.specialist.website%}
     
    {% unless tt contains 'http://' or tt contains 'https://' %}
     {% assign tt = tt | prepend : 'https://' %}
      {% endunless %}
        <div class="left-buttons">
          <button class="button_left"> <a target="_blank" href="{{tt}}">Visit</a></button>
       	</div>
      {% endif %}
      
      </div>
    {% endif %}
</div>
  

{% assign tt = page.metafields.specialist.website%}
  {% unless tt == blank %}
    {% unless tt contains 'http://' or tt contains 'https://' %}
      {% assign tt = tt | prepend : 'https://' %}
    {% endunless %}  
  {% else %}
        {% assign tt = '/pages/website-not-found' %}
  {% endunless %}

<div class="right_content">
  <div class="right_sub">
  <a target="_blank" class="book" data="{{page.metafields.specialist.website}}" href="{{tt}}">Book an appointment</a> 
  <div class="edit_it">See a problem?<a class="mailsent" href="javascript:void(0);">Suggest an edit</a>
  <div style="display:none;" class="img_load">
  <img loading="lazy" class="loader_img" src="https://cdn.shopify.com/s/files/1/0350/7706/2795/files/Spinner-1s-311px_1.gif?v=1627968221"/>
  </div>  
  </div>
  </div>
</div>
 
  
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>
  $(document).ready(function(){
  $(document).on('click','.mailsent',function(e){
  e.preventDefault();
  $.ajax({
    type: 'POST',
    url: 'https://providers.attngrace.com/shopify/apps/specialistapp/mailtest.php',
    data:{action:"send_email_action"},
    beforeSend: function() {
      $(".img_load").show();
    },
      success: function(response){
      var status = jQuery.parseJSON(response);
      console.log(status.response);
      if(status.response == false)
      { 
      	swal("", status.message, "error");
      }
      else
      {
      	swal("", status.message, "success"); 
      }
      $(".img_load").hide();
    }
  });
});
});
</script>


<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v2.4.0/mapbox-gl.css"/>
<script type="text/javascript" src="https://api.mapbox.com/mapbox-gl-js/v2.4.0/mapbox-gl.js"></script>
<script>
  
    var long =  {{page.metafields.specialist.lang | json}};
    long = parseFloat(long);
    var lat = {{page.metafields.specialist.lat | json}};
    lat =  parseFloat(lat);
	mapboxgl.accessToken = 'pk.eyJ1IjoiZGV2ZWxvcGVyZGVzaWduZXIxOCIsImEiOiJja3J6d3dtMWEwdnR3MnZtc3VkaHlycGFvIn0.7XzcgrCv6cAhbRN-WxEIaQ';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/light-v10',
        center: [long,lat],
        zoom: 10
    });

    map.on('load', () => {
        // Add an image to use as a custom marker
        map.loadImage(
            'https://cdn.shopify.com/s/files/1/0350/7706/2795/files/resized.png?v=1629096609',
            (error, image) => {
                if (error) throw error;
                map.addImage('resized', image);
                // Add a GeoJSON source with 2 points
                map.addSource('points', {
                    'type': 'geojson',
                    'data': {
                        'type': 'FeatureCollection',
                        'features': [
                            {
                                // feature for Mapbox DC
                                'type': 'Feature',
                                'geometry': {
                                    'type': 'Point',
                                    'coordinates': [long,lat]
                                }
//                                 'properties': {
//                                     'title': 'Mapbox DC'
//                                 }
                            }
                        ]
                    }
                });

                // Add a symbol layer
                map.addLayer({
                    'id': 'points',
                    'type': 'symbol',
                    'source': 'points',
                    'layout': {
                        'icon-image': 'resized',
                        // get the title name from the source's "title" property
                        'text-field': ['get', 'title'],
                        'text-font': [
                            'Open Sans Semibold',
                            'Arial Unicode MS Bold'
                        ],
                        'text-offset': [0, 1.25],
                        'text-anchor': 'top'
                    }
                });
            }
        );
    });
// map.addControl(new mapboxgl.NavigationControl());
</script>
{% endunless %}


<!--Start - Add a condition for the different page metafield an default page -->
{% comment %}
<div class="specialist-page-data">
{% if page.metafields.specialist.address != blank %}
  
{% if page.metafields.specialist.address != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.address }}</div>
{% endif %}

{% if page.metafields.specialist.phone != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.phone }}</div>
{% endif %}
 
{% if page.metafields.specialist.website != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.website }}</div>
{% endif %}

{% if page.metafields.specialist.email != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.email }}</div>
{% endif %}
  
{% if page.metafields.specialist.tags != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.tags }}</div>
{% endif %}

{% if page.metafields.specialist.monday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.monday }}</div>
{% endif %}
  
{% if page.metafields.specialist.tuesday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.tuesday }}</div>
{% endif %}

{% if page.metafields.specialist.wednesday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.wednesday }}</div>
{% endif %}
  
{% if page.metafields.specialist.thursday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.thursday }}</div>
{% endif %}

{% if page.metafields.specialist.friday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.friday }}</div>
{% endif %}
  
{% if page.metafields.specialist.saturday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.saturday }}</div>
{% endif %}

{% if page.metafields.specialist.sunday != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.sunday }}</div>
{% endif %}
  
{% if page.metafields.specialist.image_url != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.image_url }}</div>
{% endif %}

{% if page.metafields.specialist.facebook != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.facebook }}</div>
{% endif %}
  
{% if page.metafields.specialist.instagram != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.instagram }}</div>
{% endif %}

{% if page.metafields.specialist.twitter != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.twitter }}</div>
{% endif %}
  
{% if page.metafields.specialist.lat != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.lat }}</div>
{% endif %}

{% if page.metafields.specialist.lng != blank %}
  <div class="specialist-data">{{ page.metafields.specialist.lng }}</div>
{% endif %}
  
{% endif %}
</div>
{% endcomment %}
<!--End - Add a condition for the different page metafield an default page -->
<div>
  {% if customer %}
    {% assign hash_id = customer.id | append: '-' | append: "35077062795" %}
  {% else %}
    {% assign hash_id = '0-' | append: "35077062795" %}
  {% endif %}
  <input type="hidden" value="{{ hash_id | hmac_sha256: "FDK__D9382943FF__D_" }}" id="gdpr_hmac" />
  <input type="hidden" id="accounts_enabled" value="{{ shop.customer_accounts_enabled }}" />
</div>

