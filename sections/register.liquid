<div class="page-content form-page">

    <h1 class="page-title">{{ 'customers.register.header' | t }}</h1>

    {% form 'create_customer' %}

        {% if form.errors %}
            {{ form.errors | default_errors }}
        {% endif %}

        <div class="input-wrapper">
            <label class="input-label" for="customer[first_name]">
                {{ 'customers.general.first_name' | t }}
            </label>
            <input
                    id="customer_first_name"
                    class="input-field {% if form.errors contains 'first_name' %}error{% endif %}"
                    type="text"
                    value="{{ form.first_name }}"
                    name="customer[first_name]">

            {% if form.errors contains 'first_name' %}
                <p class="error-message">
                    {{ 'customers.general.first_name' | t }} {{ form.errors.messages['first_name'] }}
                </p>
            {% endif %}
        </div>

        <div class="input-wrapper">
            <label class="input-label" for="customer[last_name]">{{ 'customers.general.last_name' | t }}</label>
            <input
                    id="customer_last_name"
                    class="input-field {% if form.errors contains 'last_name' %}error{% endif %}"
                    type="text"
                    placeholder=""
                    value="{{ form.last_name }}"
                    name="customer[last_name]">

            {% if form.errors contains 'last_name' %}
                <p class="error-message">
                    {{ 'customers.general.last_name' | t }} {{ form.errors.messages['last_name'] }}
                </p>
            {% endif %}
        </div>

        <div class="input-wrapper">
            <label class="input-label" for="customer[email]">{{ 'general.general.email' | t }}</label>
            <input
                    id="customer_email"
                    class="input-field {% if form.errors contains 'email' %}error{% endif %}"
                    type="email"
                    value="{{ form.email }}"
                    name="customer[email]" required>

            {% if form.errors contains 'email' %}
                <p class="error-message">
                    {{ 'general.general.email' | t }} {{ form.errors.messages['email'] }}
                </p>
            {% endif %}
        </div>

        <div class="input-wrapper">
            <label class="input-label" for="customer[password]">{{ 'general.general.password' | t }}</label>
            <input
                    id="customer_password"
                    class="input-field {% if form.errors contains 'password' %}error{% endif %}"
                    type="password"
                    name="customer[password]" required>

            {% if form.errors contains 'password' %}
                <p class="error-message">
                    {{ 'general.general.password' | t }} {{ form.errors.messages['password'] }}
                </p>
            {% endif %}
        </div>

        <div class="input-wrapper">
            <input class="button" type="submit" value="{{ 'customers.register.submit' | t }}">
            <p>
                <a class="toggle-forgetfulness" href="{{ shop.url }}/account/login">Back >></a>
            </p>
        </div>

    {% endform %}
</div>


<script src="{{ 'jquery.min.js' | asset_url }}" defer></script>
<script src="{{ 'jquery.validate.min.js' | asset_url }}" defer></script>
<script src="{{ 'additional-methods.js' | asset_url }}" defer></script>
<script>
	$("#create_customer").validate({
		rules: {
			'customer[first_name]': {
				required: true
			},
			'customer[last_name]': {
				required: true
			},
			'customer[email]': {
				required: true,
				email: true
			},
			'customer[password]': {
				required: true
			}
		}
	});
</script>