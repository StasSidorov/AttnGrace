<link
  rel="stylesheet"
  href="{{ 'home-text-with-icon.css' | asset_url }}"
  media="print"
  onload="this.media='all'">
  
<section class="why-us-section" style="background-color:{{ section.settings.sbg-color }};">
  <div class="page-width">
    <div class="why-us-inner">
      {% if section.settings.heading != blank %}
        <h2 class="heading">{{ section.settings.heading }}</h2>
      {% endif %}
      <div class="column-wrapper">
        {% for block in section.blocks %}
          {%- assign block-image = block.settings.column_image -%}
          <div class="icon-column">
            <div class="col-inner">
              <div class="icon">
                {%
                   include 'rimg-home'
                 img: block-image,
                 size: '2048x2048',
                 lazy: true, %}
              </div>
              <h2 class="title">{{ block.settings.title }}</h2>
              <p>{{ block.settings.content }}</p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
{% schema %}
  {
    "name": "Icon with text column",
    "class": "home-why-us-section",
    "max_blocks": 3,
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Why Attn Grace?"
      }, 
      {
        "type": "color",
        "id": "sbg-color",
        "label": "Section Background Color",
        "default": "#dedc00"
      }
    ],
    "blocks": [
      {
        "type": "column",
        "name": "Column",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          }, 
          {
            "type": "textarea",
            "id": "content",
            "label": "Content"
          }, 
          {
            "type": "image_picker",
            "id": "column_image",
            "label": "Image"
          }
        ]
      }
    ],
    "presets": [
      {
        "category": "Custom Blocks",
        "name": "Icon with Text Column"
      }
    ]
  }
{% endschema %}